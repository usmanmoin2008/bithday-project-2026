<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>For You üå∑</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
@font-face {
    font-family: 'Sellendra';
    src: url('sellendra.otf') format('opentype');
}

html, body {
    margin: 0;
    padding: 0;
    color: white;
    font-family: 'Sellendra', cursive;
    overflow-x: hidden;
}

/* ===== EXACT INDEX BACKGROUND ===== */
.stars{
    position:fixed;
    inset:0;
    background: radial-gradient(circle at center, #2b003f, #120018, #06000b);
    overflow:hidden;
    z-index:-1;
}
.star{
    position:absolute;
    background:white;
    border-radius:50%;
    opacity:0.9;
    animation: twinkle linear infinite;
}
@keyframes twinkle{
    0%{opacity:0.3;}
    50%{opacity:1;}
    100%{opacity:0.3;}
}
/* ================================= */

.page{
    min-height:100vh;
    width:100%;
    display:flex;
    align-items:center;
    justify-content:center;
}

/* ===== MUSIC BUTTON ===== */
#musicBtn{
    position: fixed;
    top: 15px;
    right: 15px;
    z-index: 50;
    font-size: 0.85rem;
    padding: 9px 15px;
    border-radius: 30px;
    background: rgba(255,255,255,0.15);
    color: #fff;
    backdrop-filter: blur(6px);
    cursor: pointer;
}

/* ===== RIBBON CONTAINER ===== */
.ribbon-container{
    position: relative;
    width: 440px;
    height: 440px;
    display:flex;
    align-items:center;
    justify-content:center;
}

/* ===== ULTRA REALISTIC SILK RIBBON ===== */
.ribbon{
    width:340px;
    height:340px;
    position:relative;
    cursor:pointer;
    z-index:10;
    perspective:1000px;
}

/* center knot */
.ribbon-center{
    position:absolute;
    inset:0;
    border-radius:50%;
    background:
      radial-gradient(circle at 30% 30%, #ffb3c1, #b30000 55%, #3a0000 100%);
    box-shadow:
      0 0 60px rgba(255,0,0,0.7),
      inset 0 0 35px rgba(255,255,255,0.35),
      inset 0 -35px 45px rgba(0,0,0,0.8);
    z-index:3;
}

/* ribbon wings */
.ribbon-left,.ribbon-right{
    position:absolute;
    top:50%;
    width:180px;
    height:80px;
    background:linear-gradient(135deg,#ff6b6b,#7a0000,#ff6b6b);
    box-shadow: inset 0 0 20px rgba(255,255,255,0.3);
    border-radius:40px;
    transform-origin:center;
    transition:1.6s cubic-bezier(0.19,1,0.22,1);
}

.ribbon-left{
    left:-20px;
    transform:translateY(-50%) rotate(0deg);
}

.ribbon-right{
    right:-20px;
    transform:translateY(-50%) rotate(0deg);
}

/* open state */
.ribbon.open .ribbon-left{
    transform:translate(-160px,-50%) rotate(-35deg) scaleX(1.1);
    opacity:0.7;
}

.ribbon.open .ribbon-right{
    transform:translate(160px,-50%) rotate(35deg) scaleX(1.1);
    opacity:0.7;
}

.ribbon.open .ribbon-center{
    transform:scale(0.85);
    opacity:0.6;
}

/* ===== LIGHT RAYS ===== */
.light-rays{
    position:absolute;
    inset:0;
    background: radial-gradient(circle, rgba(255,120,180,0.15), transparent 60%);
    filter: blur(40px);
    z-index:1;
}

/* ===== TAP TEXT ===== */
.tap-text{
    position:absolute;
    bottom:-120px;
    width:100%;
    text-align:center;
    font-size:1.4rem;
    opacity:0;
    transform: translateY(15px);
    transition: 0.7s ease;
    text-shadow: 0 0 30px rgba(255,180,220,0.9);
}
.tap-text.show{
    opacity:1;
    transform: translateY(0);
}

/* ===== REALISTIC BOUQUET ===== */
.bouquet{
    position:absolute;
    opacity:0;
    transform: scale(0.4) translateY(120px);
    transition: 2.2s cubic-bezier(0.19,1,0.22,1);
    z-index:5;
    filter: blur(6px);
}

.bouquet.show{
    opacity:1;
    transform: scale(1) translateY(0);
    filter: blur(0);
}

/* flower bloom animation */
.real-flower{
    animation: bloom 1.8s cubic-bezier(0.19,1,0.22,1) forwards;
    transform:scale(0);
}

@keyframes bloom{
    0%{transform:scale(0); opacity:0;}
    60%{transform:scale(1.15); opacity:1;}
    100%{transform:scale(1);}
}
/* layout */
.rf1{top:-45px; left:85px;}
.rf2{top:5px; left:-10px;}
.rf3{top:5px; right:-10px;}
.rf4{top:90px; left:25px;}
.rf5{top:90px; right:25px;}
.rf6{top:165px; left:85px;}

/* ===== FLOATING PETALS ===== */
.petal{
    position:absolute;
    width:12px;
    height:12px;
    background: radial-gradient(circle,#ffd1e8,#ff5fa2);
    border-radius:50%;
    opacity:0.7;
    animation: floatPetal 10s linear infinite;
}

@keyframes floatPetal{
    0%{transform:translateY(0) translateX(0); opacity:0;}
    10%{opacity:0.8;}
    100%{transform:translateY(-600px) translateX(80px); opacity:0;}
}

/* ===== FAST FADE IN (FIXED SPEED) ===== */
body{
    opacity:0;
    animation: fastFade 0.7s ease forwards;
}
@keyframes fastFade{
    from{opacity:0;}
    to{opacity:1;}
}
</style>
</head>

<body>

<div class="stars" id="stars"></div>

<div class="light-rays"></div>

<!-- MUSIC -->
<audio id="bgMusic" loop>
    <source src="Dandelions.mp3" type="audio/mpeg">
</audio>

<div id="musicBtn">Play Music üéµ</div>

<div class="page">
    <div class="ribbon-container">

        <!-- PETALS -->
        <div class="petal" style="left:10%; animation-delay:0s;"></div>
        <div class="petal" style="left:30%; animation-delay:2s;"></div>
        <div class="petal" style="left:60%; animation-delay:4s;"></div>
        <div class="petal" style="left:80%; animation-delay:6s;"></div>

        <!-- BOUQUET -->
        <div class="bouquet" id="bouquet">
            <div class="real-flower rf1"></div>
            <div class="real-flower rf2"></div>
            <div class="real-flower rf3"></div>
            <div class="real-flower rf4"></div>
            <div class="real-flower rf5"></div>
            <div class="real-flower rf6"></div>
        </div>

        <!-- RIBBON -->
       <div class="ribbon" id="ribbon">
    <div class="ribbon-left"></div>
    <div class="ribbon-right"></div>
    <div class="ribbon-center"></div>
</div>

        <!-- TEXT -->
        <div class="tap-text" id="tapText"></div>

    </div>
</div>

<script>
/* ===== STARS ===== */
const starsContainer = document.getElementById("stars");
for(let i=0;i<200;i++){
    const star=document.createElement("div");
    star.classList.add("star");
    const size=Math.random()*2.5+1;
    star.style.width=size+"px";
    star.style.height=size+"px";
    star.style.left=Math.random()*100+"%";
    star.style.top=Math.random()*100+"%";
    star.style.animationDuration=(Math.random()*3+2)+"s";
    starsContainer.appendChild(star);
}

/* ===== PERFECT MUSIC CONTINUITY ===== */
const music = document.getElementById("bgMusic");
const musicBtn = document.getElementById("musicBtn");

const musicState = localStorage.getItem("musicState");
const musicTime = localStorage.getItem("musicTime");

if(musicTime){
    music.currentTime = parseFloat(musicTime);
}

if(musicState === "playing"){
    music.play().catch(()=>{});
    musicBtn.innerText = "Pause Music ‚è∏";
}

setInterval(()=>{
    if(!music.paused){
        localStorage.setItem("musicTime", music.currentTime);
        localStorage.setItem("musicState", "playing");
    }
}, 300);

musicBtn.addEventListener("click", ()=>{
    if(music.paused){
        music.play();
        musicBtn.innerText = "Pause Music ‚è∏";
        localStorage.setItem("musicState", "playing");
    } else {
        music.pause();
        musicBtn.innerText = "Play Music üéµ";
        localStorage.setItem("musicState", "paused");
    }
});

/* ===== 3 TAP SYSTEM ===== */
let tapCount = 0;
const ribbon = document.getElementById("ribbon");
const tapText = document.getElementById("tapText");
const bouquet = document.getElementById("bouquet");

const messages = [
    "Your tap feels nice<br>Tap again üíñ",
    "Almost there üòã<br>One more üíï"
];

ribbon.addEventListener("click", ()=>{
    tapCount++;

    if(tapCount === 1){
        tapText.innerHTML = messages[0];
        tapText.classList.add("show");
    }

    if(tapCount === 2){
        tapText.classList.remove("show");
        setTimeout(()=>{
            tapText.innerHTML = messages[1];
            tapText.classList.add("show");
        },300);
    }

    if(tapCount === 3){
        tapText.classList.remove("show");

        /* ribbon opens */
        ribbon.classList.add("open");

        /* bouquet emerges */
        setTimeout(()=>{
            bouquet.classList.add("show");
            spawnFlowers();
        },600);
    }
});

/* dynamic flower spawn */
function spawnFlowers(){
    for(let i=0;i<14;i++){
        const f = document.createElement("div");
        f.className="real-flower";
        f.style.position="absolute";
        f.style.left = (Math.random()*160-80)+"px";
        f.style.top = (Math.random()*160-80)+"px";
        f.style.animationDelay = (Math.random()*0.8)+"s";
        bouquet.appendChild(f);
    }
}
</script>

</body>
</html>

